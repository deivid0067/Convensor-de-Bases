<!DOCTYPE html>
<html lang="en">

<head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="./css/style.css">
        <title>Conversor de Bases</title>
</head>

<body>

        <div class="container-conversor">
                <h1>Conversor de Bases </h1>

                <h2>Selecione uma Base:</h2>
                <select id="seletor_de_bases">
                        <option value="10">Decimal</option>
                        <option value="8">Octal</option>
                        <option value="16">Hexadecimal</option>
                        <option value="2">Binario</option>
                </select>

                <select style="display: none;">
                        <option value="">A</option>
                        <option value="">B</option>
                        <option value="">C</option>
                        <option value="">D</option>
                        <option value="">E</option>
                        <option value="">F</option>
                </select>

                <div class="conteudo">
                        <h3>Digite um número que deseja converter</h3>
                        <input id="Numero_a_converter" type="text" placeholder="Digite o valor">


                        <h3>converter para:</h3>

                        <button onclick="converter()">Converter</button>


                        <div id="bases_convertidas">
                                Suas Bases convertidas são
                        </div>
                </div>
        </div>






</body>

</html>

<script>

        function converter() {
                let NumeroX = Numero_a_converter.value;
                let seletor = Number(seletor_de_bases.value)

                let decimal = parseInt(NumeroX, seletor);

                let octal = parseInt(NumeroX, seletor).toString(8);

                let hexadecimal = parseInt(NumeroX, seletor).toString(16).toUpperCase();

                let binario = parseInt(NumeroX, seletor).toString(2);
                let Resultado =

                        `Esse número na Base Octal é : ${octal} 
<br>
<br>
Esse Número em Binario é : ${binario}
<br>
<br>
Esse Número em Hexadecimal é: ${hexadecimal}
<br>
<br>
Esse Número em Decimal é: ${decimal}`

                document.getElementById("bases_convertidas").innerHTML = Resultado;



        }

                const validacaoBinaria = e => {
                        let validacao = /^[0-1]*$/
                        let key = e.key

                        if (!validacao.test(key)) {
                                e.preventDefault()
                        }
                }



                const validacaoDecimal = e => {
                        let validacao = /^[0-9]*$/
                        let key = e.key

                        if (!validacao.test(key)) {
                                e.preventDefault()
                        }
                }


                const validacaoOctal = e => {
                        let validacao = /^[0-7]*$/
                        let key = e.key

                        if (!validacao.test(key)) {
                                e.preventDefault()
                        }
                }

                const validacaoHexadecimal = e => {
                        let validacao = /^[0-9a-fA-F]*$/
                        let key = e.key

                        if (!validacao.test(key)) {
                                e.preventDefault()
                        }
                }


                const validate = e => {
                        let selecionarBase = parseInt(seletor_de_bases.value);
                        switch (selecionarBase) {
                                case 2:
                                        validacaoBinaria(e)
                                        break;
                                case 10:
                                        validacaoDecimal(e)
                                        break;
                                case 8:
                                        validacaoOctal(e)
                                        break;
                                case 16:
                                        validacaoHexadecimal(e)
                                        break;
                        }
                }

                console.log(validate)

                
                Numero_a_converter.addEventListener('keypress', validate)
                seletor_de_bases.addEventListener('change', () => {
                        Numero_a_converter.value = ""
                })






</script>